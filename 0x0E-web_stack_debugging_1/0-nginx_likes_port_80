#!/bin/bash

# Update package repository and install Nginx
apt-get update
apt-get install nginx -y

# Start Nginx and check if it's running
systemctl start nginx
systemctl status nginx

# Check if Nginx is listening on port 80
netstat -tuln | grep 80

# Check Nginx configuration for errors
nginx -t

# Edit Nginx configuration to listen on port 80 of all active IPv4 addresses
sed -i 's/listen 80;/listen [::]:80;/' /etc/nginx/sites-enabled/default

# Reload Nginx configuration
nginx -s reload

# Verify that Nginx is now listening on port 80 of all active IPv4 addresses
netstat -tuln | grep 80
